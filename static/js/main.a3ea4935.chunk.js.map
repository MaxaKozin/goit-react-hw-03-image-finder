{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/SearchBar/SearchBar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","reset","className","styles","Searchbar","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","handleOpenModal","e","target","onClick","children","ImageGalleryItem","modalContent","id","onItemClick","data","map","item","key","src","webformatURL","alt","ImageGalleryItem_image","modalRoot","document","getElementById","Modal","handleBackdropClick","onBackdrop","content","createPortal","Overlay","Button","onPress","defaultProps","Spinner","isEnable","color","height","width","App","url","api","page","openModal","spinnerEnable","btnEnable","toggleModal","prevState","toggleSpinner","toggleButton","hadleChangeQuery","query","handleNextPage","handleScroll","window","scrollTo","top","documentElement","scrollHeight","behavior","modalContentSet","element","find","elem","largeImageURL","getData","getUrl","fetch","then","res","json","hits","prevProps","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a3ea4935.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__2OXG9\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired\n  }\n\n  state = {\n    searchQuery: ''\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchQuery: '' })\n  }\n\n  render() {\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchQuery\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={this.state.searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.object.isRequired\n  }\n\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  }\n\n  render() {\n    return (\n      <ul className={styles.ImageGallery} onClick={this.handleOpenModal}>\n        {this.props.children}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onItemClick: PropTypes.func.isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired\n  }\n\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n  }\n  render() {\n    const data = this.props.data;\n    return (\n      <>\n        {data && data.map(item => (\n          <li key={item.id} className={styles.ImageGalleryItem}>\n            <img src={item.webformatURL} alt=\"\" className={styles.ImageGalleryItem_image} onClick={() => this.modalContent(item.id)} />\n          </li>)\n        )\n        }\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onBackdrop: PropTypes.func.isRequired,\n    content: PropTypes.string.isRequired\n  }\n\n  state = {\n    src: ''\n  }\n\n  componentDidMount() {\n    this.setState({ src: this.props.content })\n  }\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onBackdrop();\n    }\n  }\n\n  render() {\n    return createPortal((\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={this.state.src} alt=\"\" />\n        </div>\n      </div>), modalRoot\n    );\n  }\n}\n\nexport default Modal;","import React, { Component } from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nclass Button extends Component {\n  static defaultProps = {\n    name: 'Load more'\n  }\n  static propTypes = {\n    name: PropTypes.string,\n    onPress: PropTypes.func.isRequired\n  }\n  render() {\n    return (\n      <button type=\"button\" onClick={this.props.onPress} className={styles.Button} > {this.props.name}</button>);\n  }\n}\n\nexport default Button;","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport styles from './Loader.module.css';\n\nclass Spinner extends Component {\n  static defaultProps = {\n    isEnable: false\n  }\n  static propTypes = {\n    isEnable: PropTypes.bool\n  }\n\n  render() {\n    return (\n      <div className={styles.Spinner}>\n        {this.props.isEnable && <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n\n        />}\n      </div>\n    );\n  }\n}\n\nexport default Spinner;","import React, { Component } from 'react';\nimport './App.css';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Loader/Loader';\n\nclass App extends Component {\n  state = {\n    url: 'https://pixabay.com/api/?',\n    api: '16865907-bf97a2667d97724c7c41d2d46',\n    modalContent: '',\n    searchQuery: '',\n    page: 1,\n    data: [],\n    openModal: false,\n    spinnerEnable: false,\n    btnEnable: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getData();\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.getData();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({ openModal: !prevState.openModal }))\n  }\n\n  toggleSpinner = () => {\n    this.setState(prevState => ({ spinnerEnable: !prevState.spinnerEnable }))\n  }\n\n  toggleButton = () => {\n    this.setState(prevState => ({ btnEnable: !prevState.btnEnable }))\n  }\n\n  hadleChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      data: []\n    })\n  }\n\n  handleNextPage = () => {\n    this.toggleSpinner();\n    this.toggleButton();\n    this.setState(prevState => {\n      return {\n        page: prevState.page + 1\n      }\n    });\n  }\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  modalContentSet = (id) => {\n    const element = this.state.data.find(elem => elem.id === id);\n    this.setState({ modalContent: element.largeImageURL })\n  }\n\n  getData = () => {\n    const { url, searchQuery, page, api } = this.state;\n    const getUrl = `${url}q=${searchQuery}&page=${page}&key=${api}&image_type=photo&orientation=horizontal&per_page=12`;\n    this.toggleSpinner();\n    fetch(getUrl).then(res => res.json()).then(({ hits }) => this.setState(prevState => {\n      return { data: [...prevState.data, ...hits] }\n    })).then(this.handleScroll).then(this.toggleButton)\n  }\n\n  render() {\n    const { data, openModal, btnEnable, spinnerEnable, modalContent } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.hadleChangeQuery} />\n\n        <ImageGallery onClick={this.toggleModal}>\n          <ImageGalleryItem data={data} onItemClick={this.modalContentSet} />\n        </ImageGallery>\n        {openModal && <Modal content={modalContent} onBackdrop={this.toggleModal} />}\n        {btnEnable ? <Button name=\"Load more\" onPress={this.handleNextPage} /> : <Spinner isEnable={spinnerEnable} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchForm_button\":\"SearchBar_SearchForm_button__lS3c7\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2V9MA\",\"SearchForm_input\":\"SearchBar_SearchForm_input__Hbv-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}