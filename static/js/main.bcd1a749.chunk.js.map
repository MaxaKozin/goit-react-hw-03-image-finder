{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","services/apiServices.js","App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","s","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","modalContent","id","onItemClick","webformatURL","src","alt","ImageGalleryItem_image","onClick","ImageGallery","handleOpenModal","e","target","data","map","key","modalRoot","document","getElementById","Modal","handleBackdropClick","onBackdrop","content","createPortal","Overlay","Button","onPress","defaultProps","Spinner","color","height","width","fetchImages","page","fetchUrl","fetch","then","res","json","App","isLoading","openModal","toggleModal","toggleLoading","hadleChangeQuery","query","handleNextPage","handleScroll","window","scrollTo","top","documentElement","scrollHeight","behavior","modalContentSet","itemId","element","find","largeImageURL","getData","hits","catch","error","console","log","message","finally","prevProps","btnEnable","length","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bcd1a749.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__24ERy\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./SearchBar.module.css\";\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n    // this.reset();\n  };\n\n  // reset = () => {\n  //   this.setState({ searchQuery: \"\" });\n  // };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchQuery\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onItemClick: PropTypes.func.isRequired,\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        webformatURL: PropTypes.string.isRequired,\n      })\n    ).isRequired,\n  };\n\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n  };\n  render() {\n    const { id, webformatURL } = this.props;\n    return (\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItem_image}\n        onClick={() => this.modalContent(id)}\n      />\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    onItemClick: PropTypes.func.isRequired,\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      })\n    ).isRequired,\n  };\n\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { data, onItemClick } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {data &&\n          data.map((data) => (\n            <li key={data.id} className={s.ImageGalleryItem}>\n              <ImageGalleryItem {...data} onItemClick={onItemClick} />\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nclass Modal extends Component {\n  static propTypes = {\n    onBackdrop: PropTypes.func.isRequired,\n    content: PropTypes.string.isRequired,\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onBackdrop();\n    }\n  };\n\n  render() {\n    const { content } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={content} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Button.module.css\";\n\nclass Button extends Component {\n  static defaultProps = {\n    name: \"Load more\",\n  };\n  static propTypes = {\n    name: PropTypes.string,\n    onPress: PropTypes.func.isRequired,\n  };\n  render() {\n    const { onPress, name } = this.props;\n    return (\n      <button type=\"button\" onClick={onPress} className={s.Button}>\n        {name}\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport s from \"./Spinner.module.css\";\n\nclass Spinner extends Component {\n  render() {\n    return (\n      <div className={s.Spinner}>\n        <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n      </div>\n    );\n  }\n}\n\nexport default Spinner;\n","const api = \"16865907-bf97a2667d97724c7c41d2d46\";\nconst url = \"https://pixabay.com/api/?\";\n\nconst fetchImages = (searchQuery, page) => {\n  const fetchUrl = `${url}q=${searchQuery}&page=${page}&key=${api}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(fetchUrl).then((res) => res.json());\n};\n\nexport default fetchImages;\n","import React, { Component } from \"react\";\n\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport Spinner from \"./components/Spinner/Spinner\";\n\nimport fetchImages from \"./services/apiServices\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    modalContent: \"\",\n    searchQuery: \"\",\n    page: 1,\n    data: [],\n    isLoading: false,\n    openModal: false,\n  };\n\n  componentDidUpdate(prevProps, { searchQuery, page }) {\n    if (searchQuery !== this.state.searchQuery) {\n      this.getData();\n    }\n\n    if (page !== this.state.page) {\n      this.getData();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\n  };\n\n  toggleLoading = () => {\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\n  };\n\n  hadleChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      data: [],\n    });\n  };\n\n  handleNextPage = () => {\n    this.setState(({ page }) => {\n      return {\n        page: page + 1,\n      };\n    });\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  modalContentSet = (itemId) => {\n    const { data } = this.state;\n    const element = data.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL });\n  };\n\n  getData = () => {\n    const { searchQuery, page } = this.state;\n    this.toggleLoading();\n    fetchImages(searchQuery, page)\n      .then(({ hits }) => {\n        this.setState(({ data }) => {\n          return { data: [...data, ...hits] };\n        });\n      })\n      .then(this.handleScroll)\n      .catch((error) => console.log(error.message))\n      .finally(this.toggleLoading);\n  };\n\n  render() {\n    const { data, openModal, modalContent, isLoading } = this.state;\n    const btnEnable = data.length > 0 && !isLoading;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.hadleChangeQuery} />\n\n        <ImageGallery\n          data={data}\n          onClick={this.toggleModal}\n          onItemClick={this.modalContentSet}\n        />\n\n        {openModal && (\n          <Modal content={modalContent} onBackdrop={this.toggleModal} />\n        )}\n        {isLoading && <Spinner />}\n\n        {btnEnable && <Button name=\"Load more\" onPress={this.handleNextPage} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchForm_button\":\"SearchBar_SearchForm_button__lS3c7\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2V9MA\",\"SearchForm_input\":\"SearchBar_SearchForm_input__Hbv-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}