{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/SearchBar/SearchBar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","reset","this","className","s","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","handleOpenModal","e","target","onClick","children","ImageGalleryItem","modalContent","id","onItemClick","data","map","webformatURL","key","src","alt","ImageGalleryItem_image","modalRoot","document","getElementById","Modal","handleBackdropClick","onBackdrop","content","createPortal","Overlay","Button","onPress","defaultProps","Spinner","isEnable","color","height","width","App","url","api","page","openModal","spinnerEnable","btnEnable","toggleModal","toggleSpinner","toggleButton","hadleChangeQuery","query","handleNextPage","handleScroll","window","scrollTo","top","documentElement","scrollHeight","behavior","modalContentSet","itemId","element","find","largeImageURL","getData","getUrl","fetch","then","res","json","hits","prevProps","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c902bb34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__24ERy\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired\n  }\n\n  state = {\n    searchQuery: ''\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchQuery: '' })\n  }\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchQuery\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.object.isRequired\n  }\n\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {children}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onItemClick: PropTypes.func.isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired\n  }\n\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n  }\n  render() {\n    const { data } = this.props;\n    return (\n      <>\n        {data && data.map(({ id, webformatURL }) => (\n          <li key={id} className={s.ImageGalleryItem}>\n            <img src={webformatURL} alt=\"\" className={s.ImageGalleryItem_image} onClick={() => this.modalContent(id)} />\n          </li>)\n        )\n        }\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onBackdrop: PropTypes.func.isRequired,\n    content: PropTypes.string.isRequired\n  }\n\n  state = {\n    src: ''\n  }\n\n  componentDidMount() {\n    this.setState({ src: this.props.content })\n  }\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onBackdrop();\n    }\n  }\n\n  render() {\n    const { src } = this.state;\n    return createPortal((\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={src} alt=\"\" />\n        </div>\n      </div>), modalRoot\n    );\n  }\n}\n\nexport default Modal;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  static defaultProps = {\n    name: 'Load more'\n  }\n  static propTypes = {\n    name: PropTypes.string,\n    onPress: PropTypes.func.isRequired\n  }\n  render() {\n    const { onPress, name } = this.props;\n    return (\n      <button type=\"button\" onClick={onPress} className={s.Button} > {name}</button>);\n  }\n}\n\nexport default Button;","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport s from './Spinner.module.css';\n\nclass Spinner extends Component {\n  static defaultProps = {\n    isEnable: false\n  }\n  static propTypes = {\n    isEnable: PropTypes.bool\n  }\n\n  render() {\n    const { isEnable } = this.props;\n    return (\n      <div className={s.Spinner}>\n        {isEnable && <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default Spinner;","import React, { Component } from 'react';\n\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Spinner/Spinner';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    url: 'https://pixabay.com/api/?',\n    api: '16865907-bf97a2667d97724c7c41d2d46',\n    modalContent: '',\n    searchQuery: '',\n    page: 1,\n    data: [],\n    openModal: false,\n    spinnerEnable: false,\n    btnEnable: false,\n  }\n\n  componentDidUpdate(prevProps, { searchQuery, page }) {\n    if (searchQuery !== this.state.searchQuery) {\n      this.getData();\n    }\n\n    if (page !== this.state.page) {\n      this.getData();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({ openModal: !openModal }))\n  }\n\n  toggleSpinner = () => {\n    this.setState(({ spinnerEnable }) => ({ spinnerEnable: !spinnerEnable }))\n  }\n\n  toggleButton = () => {\n    this.setState(({ btnEnable }) => ({ btnEnable: !btnEnable }))\n  }\n\n  hadleChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      data: []\n    })\n  }\n\n  handleNextPage = () => {\n    this.toggleSpinner();\n    this.toggleButton();\n    this.setState(({ page }) => {\n      return {\n        page: page + 1\n      }\n    });\n  }\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  modalContentSet = (itemId) => {\n    const { data } = this.state;\n    const element = data.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL })\n  }\n\n  getData = () => {\n    const { url, searchQuery, page, api } = this.state;\n    const getUrl = `${url}q=${searchQuery}&page=${page}&key=${api}&image_type=photo&orientation=horizontal&per_page=12`;\n    this.toggleSpinner();\n    fetch(getUrl).then(res => res.json()).then(({ hits }) => this.setState(({ data }) => {\n      return { data: [...data, ...hits] }\n    })).then(this.handleScroll).then(this.toggleButton)\n  }\n\n  render() {\n    const { data, openModal, btnEnable, spinnerEnable, modalContent } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.hadleChangeQuery} />\n\n        <ImageGallery onClick={this.toggleModal}>\n          <ImageGalleryItem data={data} onItemClick={this.modalContentSet} />\n        </ImageGallery>\n        {openModal && <Modal content={modalContent} onBackdrop={this.toggleModal} />}\n        {btnEnable ? <Button name=\"Load more\" onPress={this.handleNextPage} /> : <Spinner isEnable={spinnerEnable} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchForm_button\":\"SearchBar_SearchForm_button__lS3c7\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2V9MA\",\"SearchForm_input\":\"SearchBar_SearchForm_input__Hbv-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}